---
import "@fontsource/outfit/300.css";
import "@fontsource/outfit/500.css";
import "@fontsource/outfit/700.css";
import "@fontsource/outfit/900.css";
import { SEO } from "astro-seo";

type Frontmatter = {
    title: string;
    description: string;
    publishedTime: string;
    modifiedTime?: string;
    expirationTime?: string;
    section?: string;
    tags?: string[];
    image?: string;
    imageAlt?: string;
    imageType?: string;
    imageHeight?: number;
    imageWidth?: number;
};

type Props = {
    frontmatter: Frontmatter;
};

const { frontmatter } = Astro.props satisfies Props;
---

<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-KLDZ6NND');</script>
        <!-- End Google Tag Manager -->
        <SEO
            title={frontmatter.title}
            description={frontmatter.description}
            charset="utf-8"
            openGraph={{
                image: {
                    url: frontmatter.image || "https://www.jeffreyberry.dev/images/headshot.jpg",
                    secureUrl: frontmatter.image || "https://www.jeffreyberry.dev/images/headshot.jpg",
                    type: frontmatter.imageType || "image/jpeg",
                    alt: frontmatter.imageAlt || "My headshot",
                    width: frontmatter.imageWidth || 460,
                    height: frontmatter.imageHeight || 460,
                },
                article: {
                    publishedTime: frontmatter.publishedTime,
                    modifiedTime: frontmatter.modifiedTime,
                    expirationTime: frontmatter.expirationTime,
                    authors: ["Jeffrey Berry"],
                    section: frontmatter.section,
                    tags: frontmatter.tags,
                },
                basic: {
                    title: frontmatter.title,
                    type: "article",
                    image: frontmatter.image || "https://www.jeffreyberry.dev/images/headshot.jpg",
                },
            }}
            twitter={{
                title: frontmatter.title,
                description: frontmatter.description,
                image: frontmatter.image || "https://www.jeffreyberry.dev/images/headshot.jpg",
                imageAlt: frontmatter.imageAlt || "My headshot",
                card: "summary_large_image",
            }}
            extend={{
                link: [
                    { rel: "icon", href: "/images/favicon.ico" },
                    { rel: "sitemap", href: "/sitemap-index.xml" },
                ],
                meta: [
                    { name: "viewport", content: "width=device-width, initial-scale=1" },
                ],
            }}
        />
    </head>
    <body class="bg-gray-950 text-gray-50 tracking-wider selection:bg-teal-300 selection:text-teal-900">
        <!-- Google Tag Manager (noscript) -->
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KLDZ6NND"
        height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
        <!-- End Google Tag Manager (noscript) -->
        <main>
            <article class="max-w-3xl w-full mx-auto px-4 py-10">
                <h1 class="text-2xl lg:text-5xl text-cyan-500 text-center font-black mb-4">
                    {frontmatter.title}
                </h1>
                <p>
                    {frontmatter.description}
                </p>
                <slot/>
            </article>
        </main>
    </body>
</html>

<style is:global>
    body {
        font-family: "Outfit", Arial, Helvetica, sans-serif;
    }

    article > p {
        font-size: 18px;
        line-height: 28px;
        font-weight: normal;
        margin: 24px 0;
        line-height: 2;
    }

    @media screen and (max-width: 1024px) {
        article > p {
            font-size: 16px;
            line-height: 24px;
        }
    }
</style>
